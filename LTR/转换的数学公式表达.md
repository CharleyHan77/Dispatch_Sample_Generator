æˆ‘æ¥ç”¨æ•°å­¦å…¬å¼çš„å½¢å¼è¡¨è¾¾è½¬æ¢å‰åçš„æ•°æ®æ ·å¼å’Œæ˜ å°„å…³ç³»ã€‚

[1 tool called]

æˆ‘ç”¨æ•°å­¦å…¬å¼çš„å½¢å¼æ¥è¡¨è¾¾è½¬æ¢å‰åçš„æ•°æ®æ ·å¼å’Œæ˜ å°„å…³ç³»ï¼š

## ğŸ§® è½¬æ¢å‰åŸå§‹æ•°æ®ç»“æ„ (Original Data Structure)

### åŸå§‹FJSPæ•°æ®é›†è¡¨ç¤º

è®¾åŸå§‹æ ‡è®°æ•°æ®é›†ä¸ºï¼š
\[
\mathcal{D}_{raw} = \{(I_i, P_i, F_i)\}_{i=1}^{N}
\]

å…¶ä¸­å¯¹äºç¬¬ $i$ ä¸ªFJSPå®ä¾‹ï¼š

**å®ä¾‹æ ‡è¯†**ï¼š
\[
I_i = \text{instance\_path}_i \in \mathcal{I}
\]

**æ€§èƒ½æ•°æ®çŸ©é˜µ**ï¼š
\[
P_i = \begin{bmatrix}
p_{i,h} \\
p_{i,m} \\
p_{i,r}
\end{bmatrix} = \begin{bmatrix}
[\mu_{i,h}, \sigma_{i,h}, \min_{i,h}, \max_{i,h}, c_{i,h}, c\sigma_{i,h}] \\
[\mu_{i,m}, \sigma_{i,m}, \min_{i,m}, \max_{i,m}, c_{i,m}, c\sigma_{i,m}] \\
[\mu_{i,r}, \sigma_{i,r}, \min_{i,r}, \max_{i,r}, c_{i,r}, c\sigma_{i,r}]
\end{bmatrix}
\]

å…¶ä¸­ï¼š
- $h, m, r$ åˆ†åˆ«è¡¨ç¤º heuristic, mixed, random åˆå§‹åŒ–æ–¹æ³•
- $\mu, \sigma, \min, \max$ ä¸ºç›®æ ‡å€¼çš„å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å°å€¼ã€æœ€å¤§å€¼
- $c, c\sigma$ ä¸ºæ”¶æ•›ä»£æ•°çš„å‡å€¼å’Œæ ‡å‡†å·®

**ç‰¹å¾æ•°æ®ç»“æ„**ï¼š
\[
F_i = \{F_i^{basic}, F_i^{time}, F_i^{graph}, F_i^{kde}\}
\]

å…¶ä¸­ï¼š
- $F_i^{basic} = [n_j, n_m, n_o, \bar{m}, \sigma_m]$ (é—®é¢˜è§„æ¨¡åŸŸ)
- $F_i^{time} = [\mu_t, \sigma_t, t_{min}, t_{max}, \sigma_{mt}]$ (æ—¶é—´å¤æ‚åº¦åŸŸ)  
- $F_i^{graph} = [|V|, |E|, \rho, \bar{d}, \gamma, \tau, \ldots]$ (çº¦æŸç»“æ„åŸŸ)
- $F_i^{kde} = [\mu_{kde}, \sigma_{kde}, \ldots, s, k, p_{pos}]$ (åˆ†å¸ƒç‰¹æ€§åŸŸ)

## ğŸ”„ æ•°æ®è½¬æ¢æ˜ å°„å‡½æ•° (Data Transformation Mapping)

### ä¸»è½¬æ¢å‡½æ•°

\[
\Psi: \mathcal{D}_{raw} \rightarrow \mathcal{D}_{LTR}
\]

å…·ä½“å±•å¼€ä¸ºä¸‰ä¸ªå­å‡½æ•°çš„ç»„åˆï¼š

#### 1. ç‰¹å¾æå–å‡½æ•°
\[
\Phi: F_i \rightarrow \mathbf{f}_i = [f_1, f_2, \ldots, f_{44}]^T \in \mathbb{R}^{44}
\]

#### 2. æ€§èƒ½è¯„ä¼°å‡½æ•°
\[
\Omega: P_i \times \mathbf{w} \rightarrow \mathbf{s}_i = [s_{i,h}, s_{i,m}, s_{i,r}]^T \in \mathbb{R}^3
\]

å…¶ä¸­æƒé‡å‘é‡ï¼š
\[
\mathbf{w} = [w_q, w_s, w_e, w_c]^T, \quad \sum_{j} w_j = 1
\]

#### 3. æ’åè½¬æ¢å‡½æ•°
\[
\Lambda: \mathbf{s}_i \rightarrow \mathbf{r}_i = [r_{i,h}, r_{i,m}, r_{i,r}]^T \in \{0,1,2\}^3
\]

## ğŸ“Š è½¬æ¢åLambdaMARTæ ¼å¼ (Target LambdaMART Format)

### æœ€ç»ˆè¾“å‡ºæ ¼å¼

è½¬æ¢åçš„æ•°æ®é›†è¡¨ç¤ºä¸ºï¼š
\[
\mathcal{D}_{LTR} = \{(r_{i,j}, q_i, \mathbf{f}_i, m_{i,j})\}_{i=1}^{N}, j \in \{h,m,r\}
\]

**æ ‡å‡†LambdaMARTæ ¼å¼**ï¼š
\[
\boxed{r_{i,j} \quad \text{qid:}q_i \quad \bigcup_{k=1}^{44} k\text{:}f_{i,k} \quad \text{\#} \quad m_{i,j}}
\]

### æ ¼å¼ç»„ä»¶è¯´æ˜

**ç›¸å…³æ€§åˆ†æ•°**ï¼š
\[
r_{i,j} \in \{0, 1, 2\} \quad \text{æˆ–} \quad r_{i,j} \in \mathbb{R}^+
\]

**æŸ¥è¯¢æ ‡è¯†**ï¼š
\[
q_i = i, \quad i \in \{1, 2, \ldots, N\}
\]

**ç‰¹å¾å‘é‡**ï¼š
\[
\mathbf{f}_i = \Phi(F_i) = [f_{i,1}, f_{i,2}, \ldots, f_{i,44}]^T
\]

**å…ƒæ•°æ®**ï¼š
\[
m_{i,j} = \{I_i, j, \text{meta\_info}_i\}
\]

## ğŸ¯ å®Œæ•´æ˜ å°„å…³ç³»ç¤ºä¾‹

### æ•°å­¦è¡¨è¾¾å¼

å¯¹äºå•ä¸ªFJSPå®ä¾‹ $I_i$ï¼Œå®Œæ•´çš„è½¬æ¢è¿‡ç¨‹ä¸ºï¼š

\[
\begin{align}
&\text{è¾“å…¥}: (I_i, P_i, F_i) \\
&\text{ç‰¹å¾æå–}: \mathbf{f}_i = \Phi(F_i) \\
&\text{æ€§èƒ½è¯„ä¼°}: \mathbf{s}_i = \Omega(P_i, \mathbf{w}) \\
&\text{æ’åè½¬æ¢}: \mathbf{r}_i = \Lambda(\mathbf{s}_i) \\
&\text{æ ¼å¼åŒ–}: \forall j \in \{h,m,r\}: \\
&\quad r_{i,j} \quad \text{qid:}i \quad \text{1:}f_{i,1} \quad \text{2:}f_{i,2} \quad \cdots \quad \text{44:}f_{i,44} \quad \text{\#} \quad m_{i,j}
\end{align}
\]

### å…·ä½“å®ä¾‹

**åŸå§‹æ•°æ®ç‰‡æ®µ**ï¼š
\[
\begin{align}
I_1 &= \text{"/dataset/Mk01.fjs"} \\
P_1 &= \begin{bmatrix}
[173.2, 8.1, 165, 185, 45, 12] \\
[168.5, 6.2, 160, 178, 38, 9] \\
[180.7, 12.3, 162, 195, 52, 15]
\end{bmatrix} \\
F_1^{basic} &= [10, 6, 55, 2.8, 0.9]
\end{align}
\]

**è½¬æ¢åè¾“å‡º**ï¼š
\[
\begin{align}
&2 \quad \text{qid:1} \quad \text{1:10.000000} \quad \text{2:6.000000} \quad \text{3:55.000000} \quad \cdots \quad \text{44:0.532000} \\
&\quad \text{\#} \quad \text{instance=/dataset/Mk01.fjs method=heuristic} \\
&1 \quad \text{qid:1} \quad \text{1:10.000000} \quad \text{2:6.000000} \quad \text{3:55.000000} \quad \cdots \quad \text{44:0.532000} \\
&\quad \text{\#} \quad \text{instance=/dataset/Mk01.fjs method=mixed} \\
&0 \quad \text{qid:1} \quad \text{1:10.000000} \quad \text{2:6.000000} \quad \text{3:55.000000} \quad \cdots \quad \text{44:0.532000} \\
&\quad \text{\#} \quad \text{instance=/dataset/Mk01.fjs method=random}
\end{align}
\]

## ğŸ“ˆ ç»¼åˆæ€§èƒ½è¯„ä¼°å…¬å¼

**å››ç»´æ€§èƒ½è¯„ä¼°å‡½æ•°**ï¼š
\[
\Omega(p_{i,j}, \mathbf{w}) = w_q \cdot Q(p_{i,j}) + w_s \cdot S(p_{i,j}) + w_e \cdot E(p_{i,j}) + w_c \cdot C(p_{i,j})
\]

å…¶ä¸­ï¼š
\[
\begin{align}
Q(p_{i,j}) &= \frac{1000}{0.5 \cdot \min_{i,j} + 0.3 \cdot \mu_{i,j} + 0.2 \cdot \max_{i,j}} \\
S(p_{i,j}) &= \frac{100}{1 + \sigma_{i,j}} \\
E(p_{i,j}) &= \frac{100}{1 + c_{i,j}} \\
C(p_{i,j}) &= \frac{50}{1 + c\sigma_{i,j}}
\end{align}
\]

è¿™ç§æ•°å­¦è¡¨è¾¾æ–¹å¼æ¸…æ™°åœ°å±•ç°äº†ä»åŸå§‹FJSPæ•°æ®åˆ°LambdaMARTæ ¼å¼çš„å®Œæ•´è½¬æ¢è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®ç»“æ„ã€æ˜ å°„å…³ç³»å’Œæœ€ç»ˆè¾“å‡ºæ ¼å¼ã€‚